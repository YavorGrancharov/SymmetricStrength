let subscribeController=(()=>{return{subscribe:function(){$(document).ready(function(){$("#subscribe_email").keydown(function(e){let t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/gim,r=grecaptcha.getResponse(),i=function(e){let t=e.getDate(),r=e.getMonth(),i=e.getFullYear();return t+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r]+" "+i}(new Date),n=$("#subscribe_email").val();if(13===e.which){if(!t.test(String(n).toLowerCase()))return void alert("Въведете валидна е-поща!");if(0===r.length)return void alert("Удостоверете с тикче квадратчето 'Не съм робот'");subscribeService.subscribe(i,n).then(()=>{alert("Благодарим Ви, че се абонирахте за нас!")}),$("#subscribe_email").val(""),grecaptcha.reset()}})})}}})();